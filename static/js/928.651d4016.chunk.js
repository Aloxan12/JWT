"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[928],{2928:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(9060),i=a(6364),n=a(6516),c=a(9124),r=a(4582),l=a(5992),o=a(454),u=a(2496);const d=e=>{let{user:t}=e;return(0,u.jsxs)(o.O,{withoutBorder:!0,boxShadow:!0,classNameContent:n.c.userItem,children:[(0,u.jsx)("div",{className:n.c.userPhotoBlock,children:(0,u.jsx)(r.w,{src:t.avatar||l,alt:"avatar"})}),(0,u.jsx)(c.o,{content:t.email,children:(0,u.jsx)("div",{className:n.c.UserEmailBlock,children:t.email})}),(0,u.jsxs)("div",{children:["\u0420\u043e\u043b\u044c: ",t.role?t.role:"\u0411\u0435\u0437 \u0440\u043e\u043b\u0438"]})]},t.id)};a(7064);var h=a(12);const p=/(limit=\d+&page=\d+)|[&]/g;var m=a(6712);const g="AppPagination_AppPaginationWrap__NqsAH",f="AppPagination_PaginationPage__-gwFC",v="AppPagination_CurrentPage__cBs-U";var j=a(5430);const x=e=>{let{totalCount:t,setLimit:a,limit:i}=e;const[n,c]=(0,h.k5)(),r=n.get("page"),[l,o]=(0,s.useState)(r?Number(r):1),d=n.toString().replace(p,"");(0,s.useEffect)((()=>{o(1)}),[i,d]);const m=[];return function(e,t,a){if(t>4)if(a>3){e.push(1,"...");for(let s=a-1;s<=a+1&&(e.push(s),s!==t);s++);a+2===t&&e.push(t),a+2<t&&e.push("...",t)}else{for(let a=1;a<=4&&(e.push(a),a!==t);a++);e.push("...",t)}else for(let s=1;s<=t;s++)e.push(s)}(m,Math.ceil(t/i),l),(0,s.useEffect)((()=>{1===l?(n.set("limit","".concat(i)),n.set("page","1"),c(n.toString())):(n.set("limit","".concat(i)),n.set("page","".concat(l)),c(n.toString()))}),[l,i]),(0,s.useEffect)((()=>{r&&Number(r)!==l&&o(Number(r))}),[r]),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(g),children:[m.map(((e,t)=>(0,u.jsx)("div",{className:"".concat(f," ").concat(l===e?v:""),onClick:"number"===typeof e?()=>o(e):void 0,children:e},"pagination-page-".concat(t)))),a&&(0,u.jsx)(j.Q,{data:[10,20,30],value:i,onChange:e=>a(Number(e))})]})})};var P=a(6672),N=a(7552);const b=()=>{const[e,t]=(0,s.useState)(10),a=(e=>{let{paramsList:t,withPagination:a,resetPagination:i,limit:n}=e;const[c,r]=(0,h.k5)(),l=c.toString(),[o,u]=(0,s.useState)(null),d=a?["limit","page",...t]:t,m=l.replace(p,"");return(0,s.useEffect)((()=>{i&&(c.set("limit","".concat(n||"10")),c.set("page","1"),r(c.toString()))}),[m]),(0,s.useEffect)((()=>{const e={};d.forEach((t=>{t&&(e[t]=c.get(t)?c.get(t):void 0)}));const t=Object.entries(e).reduce(((e,t)=>{let[a,s]=t;return void 0!==s?{...e,[a]:s}:e}),{});u(t)}),[l]),o})({paramsList:["search"],withPagination:!0,resetPagination:!0,limit:e}),c=(0,m.w1)((e=>e.auth.user)),{data:r,isLoading:l,isFetching:o}=(0,i.a8)(a);return(0,u.jsxs)("div",{children:[(o||l)&&(0,u.jsx)(P.c,{}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)(N.S,{searchParam:"search",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",label:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e email"})}),(0,u.jsx)("div",{className:n.c.usersList,children:r&&c&&r.results.map((e=>(0,u.jsx)(d,{user:e},e.id)))}),r&&r.results.length>0&&(0,u.jsx)(x,{limit:e,totalCount:r?r.count:0,setLimit:t})]})}}}]);
//# sourceMappingURL=928.651d4016.chunk.js.map