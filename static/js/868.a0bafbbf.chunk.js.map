{"version":3,"file":"static/js/868.a0bafbbf.chunk.js","mappings":"gQACA,QAA4B,yBAA5B,EAAiE,yBAAjE,EAAuG,0B,wBCevG,MA+DA,EA/DcA,KACZ,MAAOC,GAASC,UAAWC,EAAc,QAAEC,KAAaC,EAAAA,EAAAA,MAElDC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAEVC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,IA0BnC,OACEK,EAAAA,EAAAA,MAACC,EAAAA,EAAI,CAACC,IAAI,IAAIC,UAAU,SAASC,UAAWC,EAAeC,MAAM,SAASC,QAAQ,SAAQC,SAAA,CACvFtB,IAAkBuB,EAAAA,EAAAA,KAACC,EAAAA,EAAS,KAC7BD,EAAAA,EAAAA,KAACE,EAAAA,EAAQ,CAACC,SAAS,KAAKC,MAAM,iGAC9BJ,EAAAA,EAAAA,KAACK,EAAAA,EAAO,CAACC,iBAAkBV,EAAcG,UACvCR,EAAAA,EAAAA,MAACC,EAAAA,EAAI,CAACC,IAAI,KAAKC,UAAU,SAAQK,SAAA,EAC/BC,EAAAA,EAAAA,KAACO,EAAAA,EAAQ,CACPC,MAAOxB,EACPyB,SAAUxB,EACVyB,KAAK,QACLC,MAAM,oDACNC,YAAY,+EAEdZ,EAAAA,EAAAA,KAACO,EAAAA,EAAQ,CACPC,MAAOrB,EACPsB,SAAUrB,EACVsB,KAAM,WACNC,MAAM,mFACNC,YAAY,qFAEdZ,EAAAA,EAAAA,KAACa,EAAAA,EAAS,CAACT,MAAM,iCAAQU,QA5CZC,KACnB,IACgB,KAAV/B,EACFM,EAAS,uHACa,KAAbH,EACTG,EAAS,yIAETf,EAAM,CAAES,QAAOG,aACZ6B,SACAC,MAAMC,IACO,OAARA,GAAiBxC,IACnBE,GAASuC,EAAAA,EAAAA,IAAYD,KACrBE,EAAAA,EAAAA,GAAa,CACXC,IAAK,8HAA0BC,QAAQ,KAAM,IAC7CZ,KAAMa,EAAAA,EAAiBC,UAEzB1C,EAAS,KACX,GAGR,CAAE,MAAO2C,GACPC,QAAQC,IAAIF,EACd,GAsBsDG,MAAM,YAErDvC,IAASW,EAAAA,EAAAA,KAAC6B,EAAAA,EAAO,CAACC,MAAM,MAAMC,KAAM1C,EAAOM,UAAWC,WAGtD,C","sources":["webpack://client/./src/pages/Login/ui/Login.module.scss?1885","pages/Login/ui/Login.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loginWrap\":\"Login_loginWrap__Qr6m7\",\"loginForm\":\"Login_loginForm__iKRiP\",\"errorBlock\":\"Login_errorBlock__86tic\"};","import React, { useState } from 'react';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useLoginMutation } from '../../../app/core/api/authApi';\nimport { useAppDispatch } from '../../../app/core/redux/store';\nimport { setAuthData } from '../../../app/core/redux/Reducers/auth/authSlice';\nimport { useNavigate } from 'react-router-dom';\nimport { ToastWrapper, ToastWrapperType } from '../../../entities/ToastWrapper/ToastWrapper';\nimport { AppLoader } from '../../../widgets/AppLoader/AppLoader';\nimport { AppInput } from '../../../shared/ui/AppInput/AppInput';\nimport { AppButton } from '../../../shared/ui/AppButton/AppButton';\nimport { Flex } from '../../../shared/ui/Flex/Flex';\nimport { AppCard } from '../../../shared/ui/AppCard/AppCard';\nimport { AppTitle } from '../../../shared/ui/AppTitle/AppTitle';\nimport cls from './Login.module.scss';\nimport { AppText } from '../../../shared/ui/AppText/AppText';\n\nconst Login = () => {\n  const [login, { isLoading: isLoadingLogin, isError }] = useLoginMutation();\n\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const loginHandler = () => {\n    try {\n      if (email === '') {\n        setError('Поле \"имя\" не заполнено!!');\n      } else if (password === '') {\n        setError('Поле \"пароль\" не заполнено!!');\n      } else {\n        login({ email, password })\n          .unwrap()\n          .then((res) => {\n            if (res !== null && !isError) {\n              dispatch(setAuthData(res));\n              ToastWrapper({\n                msg: 'Успешно вошли в систему'.replace(/\"/g, ''),\n                type: ToastWrapperType.success,\n              });\n              navigate('/');\n            }\n          });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  return (\n    <Flex gap=\"8\" direction=\"column\" className={cls.loginWrap} align=\"center\" justify=\"center\">\n      {isLoadingLogin && <AppLoader />}\n      <AppTitle titleTag=\"h2\" title=\"Добро пожаловать\" />\n      <AppCard classNameContent={cls.loginForm}>\n        <Flex gap=\"16\" direction=\"column\">\n          <AppInput\n            value={email}\n            onChange={setEmail}\n            type=\"email\"\n            label=\"Введите email:\"\n            placeholder=\"Введите свой email\"\n          />\n          <AppInput\n            value={password}\n            onChange={setPassword}\n            type={'password'}\n            label=\"Введите пароль:\"\n            placeholder=\"Введите пароль\"\n          />\n          <AppButton title=\"Войти\" onClick={loginHandler} theme=\"full-bg\" />\n          {/*<AppButton onClick={() => loginHandler(email, password)} text=\"Войти\" />*/}\n          {error && <AppText color=\"red\" text={error} className={cls.errorBlock} />}\n        </Flex>\n      </AppCard>\n    </Flex>\n  );\n};\n\nexport default Login;\n"],"names":["Login","login","isLoading","isLoadingLogin","isError","useLoginMutation","dispatch","useAppDispatch","navigate","useNavigate","email","setEmail","useState","password","setPassword","error","setError","_jsxs","Flex","gap","direction","className","cls","align","justify","children","_jsx","AppLoader","AppTitle","titleTag","title","AppCard","classNameContent","AppInput","value","onChange","type","label","placeholder","AppButton","onClick","loginHandler","unwrap","then","res","setAuthData","ToastWrapper","msg","replace","ToastWrapperType","success","e","console","log","theme","AppText","color","text"],"sourceRoot":""}