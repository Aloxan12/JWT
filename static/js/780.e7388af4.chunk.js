"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[780],{780:(e,t,i)=>{i.r(t),i.d(t,{default:()=>C});var s=i(9060),a=i(6364),n=i(12);const c=/(limit=\d+&page=\d+)|[&]/g,l="AppPagination_AppPaginationWrap__NqsAH",o="AppPagination_PaginationPage__-gwFC",r="AppPagination_CurrentPage__cBs-U";var u=i(5430),d=i(2496);const h=e=>{let{setLimit:t,limit:i,totalCount:a=0}=e;const[h,g]=(0,n.k5)(),m=h.get("page"),[p,v]=(0,s.useState)(m?Number(m):1),f=h.toString().replace(c,"");(0,s.useEffect)((()=>{v(1)}),[i,f]);const j=[];return function(e,t,i){if(t>4)if(i>3){e.push(1,"...");for(let s=i-1;s<=i+1&&(e.push(s),s!==t);s++);i+2===t&&e.push(t),i+2<t&&e.push("...",t)}else{for(let i=1;i<=4&&(e.push(i),i!==t);i++);e.push("...",t)}else for(let s=1;s<=t;s++)e.push(s)}(j,Math.ceil(a/i),p),(0,s.useEffect)((()=>{1===p?(h.set("limit","".concat(i)),h.set("page","1"),g(h.toString())):(h.set("limit","".concat(i)),h.set("page","".concat(p)),g(h.toString()))}),[p,i]),(0,s.useEffect)((()=>{m&&Number(m)!==p&&v(Number(m))}),[m]),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"".concat(l),children:[j.map(((e,t)=>(0,d.jsx)("div",{className:"".concat(o," ").concat(p===e?r:""),onClick:"number"===typeof e?()=>v(e):void 0,children:e},"pagination-page-".concat(t)))),t&&(0,d.jsx)(u.Q,{data:[10,20,30],value:i,onChange:e=>t(Number(e))})]})})};var g=i(6672),m=i(6516),p=i(9124),v=i(4582),f=i(5992),j=i(454);const x=(0,s.memo)((e=>{let{user:t}=e;return(0,d.jsxs)(j.O,{withoutBorder:!0,boxShadow:!0,classNameContent:m.c.userItem,toContent:"".concat(t.id),children:[(0,d.jsx)("div",{className:m.c.userPhotoBlock,children:(0,d.jsx)(v.w,{src:t.avatar||f,alt:"avatar",width:150,height:150,radius:"8"})}),(0,d.jsx)(p.o,{content:t.email,children:(0,d.jsx)("div",{className:m.c.UserEmailBlock,children:t.email})}),(0,d.jsxs)("div",{children:["\u0420\u043e\u043b\u044c: ",t.role?t.role:"\u0411\u0435\u0437 \u0440\u043e\u043b\u0438"]})]},t.id)})),P=e=>{let{users:t}=e;return null!==t&&void 0!==t&&t.length?(0,d.jsx)("div",{className:m.c.usersList,children:t.map((e=>(0,d.jsx)(x,{user:e},e.id)))}):(0,d.jsx)("div",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})};var N=i(7552);const b=()=>(0,d.jsx)(N.S,{searchParam:"search",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",label:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e email"}),C=()=>{const[e,t]=(0,s.useState)(12),i=(e=>{let{paramsList:t,withPagination:i,resetPagination:a,limit:l}=e;const[o,r]=(0,n.k5)(),u=o.toString(),[d,h]=(0,s.useState)(null),g=i?["limit","page",...t]:t,m=u.replace(c,"");return(0,s.useEffect)((()=>{a&&(o.set("limit","".concat(l||"10")),o.set("page","1"),r(o.toString()))}),[m]),(0,s.useEffect)((()=>{const e={};g.forEach((t=>{t&&(e[t]=o.get(t)?o.get(t):void 0)}));const t=Object.entries(e).reduce(((e,t)=>{let[i,s]=t;return void 0!==s?{...e,[i]:s}:e}),{});h(t)}),[u]),d})({paramsList:["search"],withPagination:!0,resetPagination:!0,limit:e}),{data:l,isLoading:o,isFetching:r}=(0,a.a8)(i);return(0,d.jsxs)("div",{children:[(r||o)&&(0,d.jsx)(g.c,{}),(0,d.jsx)(b,{}),(0,d.jsx)(P,{users:null===l||void 0===l?void 0:l.results}),Boolean(null===l||void 0===l?void 0:l.results.length)&&(0,d.jsx)(h,{limit:e,totalCount:null===l||void 0===l?void 0:l.count,setLimit:t})]})}}}]);
//# sourceMappingURL=780.e7388af4.chunk.js.map